
<div id="main" class="lift:surround?with=default;at=content">
	<script class="lift:head" src="/scripts/jquery/jquery.js"
		type="text/javascript"></script>
	<script class="lift:head" src="/scripts/jquery/jquery-ui.custom.js"
		type="text/javascript"></script>
	<script class="lift:head" src="/scripts/jquery/jquery.cookie.js"
		type="text/javascript"></script>

	<link class="lift:head" href="/CSS/dynatree/skin/ui.dynatree.css" rel="stylesheet" type="text/css" id="skinSheet"></link>
	<script class="lift:head" src="/scripts/dynatree/jquery.dynatree.js" type="text/javascript"></script>
	<script class="lift:head" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
    <script class="lift:head" type="text/javascript" src="http://mjsarfatti.com/sandbox/nestedSortable/jquery-1.7.2.min.js"></script>
	<script class="lift:head" type="text/javascript" src="http://mjsarfatti.com/sandbox/nestedSortable/jquery-ui-1.8.16.custom.min.js"></script>
	<script class="lift:head" type="text/javascript" src="/scripts/nestedsortable/jquery.mjs.nestedSortable.js"></script>
	
	<script class="lift:head">
	$(document).ready(function(){

		$('ol.sortable').nestedSortable({
			forcePlaceholderSize: true,
			handle: 'div',
			helper:	'clone',
			items: 'li',
			opacity: .6,
			placeholder: 'placeholder',
			revert: 250,
			tabSize: 25,
			tolerance: 'pointer',
			toleranceElement: '> div',
			maxLevels: 3,

			isTree: true,
			expandOnHover: 700,
			startCollapsed: true
		});

		$('.disclose').on('click', function() {
			$(this).closest('li').toggleClass('mjs-nestedSortable-collapsed').toggleClass('mjs-nestedSortable-expanded');
		})

	});
    </script>
    <style type="text/css" class="lift:head">
		pre, code {
			font-size: 12px;
		}

		pre {
			width: 100%;
			overflow: auto;
		}

		small {
			font-size: 90%;
		}

		small code {
			font-size: 11px;
		}

		.placeholder {
			outline: 1px dashed #4183C4;
			/*-webkit-border-radius: 3px;
			-moz-border-radius: 3px;
			border-radius: 3px;
			margin: -1px;*/
		}

		.mjs-nestedSortable-error {
			background: #fbe3e4;
			border-color: transparent;
		}

		ol {
			margin: 0;
			padding: 0;
			padding-left: 30px;
		}
        #tblofcontent ol {
        	padding: 0;
        	list-style-type:none;
        }
		ol.sortable, ol.sortable ol {
			margin: 0 0 0 25px;
			padding: 0;
			list-style-type: none;
		}
		ol.sortable {
			margin: 0;
		}

		.sortable li {
			margin: 0;
			padding: 0;
		}

		.sortable li div  {
			border: 1px solid #d4d4d4;
			-webkit-border-radius: 3px;
			-moz-border-radius: 3px;
			border-radius: 3px;
			border-color: #D4D4D4 #D4D4D4 #BCBCBC;
			padding: 6px;
			margin: 0;
			cursor: move;
			background: #f6f6f6;
			background: -moz-linear-gradient(top,  #ffffff 0%, #f6f6f6 47%, #ededed 100%);
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(47%,#f6f6f6), color-stop(100%,#ededed));
			background: -webkit-linear-gradient(top,  #ffffff 0%,#f6f6f6 47%,#ededed 100%);
			background: -o-linear-gradient(top,  #ffffff 0%,#f6f6f6 47%,#ededed 100%);
			background: -ms-linear-gradient(top,  #ffffff 0%,#f6f6f6 47%,#ededed 100%);
			background: linear-gradient(to bottom,  #ffffff 0%,#f6f6f6 47%,#ededed 100%);
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ededed',GradientType=0 );
		}

		.sortable li.mjs-nestedSortable-branch div {
			background: -moz-linear-gradient(top,  #ffffff 0%, #f6f6f6 47%, #f0ece9 100%);
			background: -webkit-linear-gradient(top,  #ffffff 0%,#f6f6f6 47%,#f0ece9 100%);

		}

		.sortable li.mjs-nestedSortable-leaf div {
			background: -moz-linear-gradient(top,  #ffffff 0%, #f6f6f6 47%, #bcccbc 100%);
			background: -webkit-linear-gradient(top,  #ffffff 0%,#f6f6f6 47%,#bcccbc 100%);

		}

		li.mjs-nestedSortable-collapsed.mjs-nestedSortable-hovering div {
			border-color: #999;
			background: #fafafa;
		}

		.disclose {
			cursor: pointer;
			width: 10px;
			display: none;
		}

		.sortable li.mjs-nestedSortable-collapsed > ol {
			display: none;
		}

		.sortable li.mjs-nestedSortable-branch > div > .disclose {
			display: inline-block;
		}

		.sortable li.mjs-nestedSortable-collapsed > div > .disclose > span:before {
			content: '+ ';
		}

		.sortable li.mjs-nestedSortable-expanded > div > .disclose > span:before {
			content: '- ';
		}

		h1 {
			font-size: 2em;
			margin-bottom: 0;
		}

		h2 {
			font-size: 1.2em;
			font-weight: normal;
			font-style: italic;
			margin-top: .2em;
			margin-bottom: 1.5em;
		}

		h3 {
			font-size: 1em;
			margin: 1em 0 .3em;;
		}

		p, ol, ul, pre, form {
			margin-top: 0;
			margin-bottom: 1em;
		}

		dl {
			margin: 0;
		}

		dd {
			margin: 0;
			padding: 0 0 0 1.5em;
		}

		code {
			background: #e5e5e5;
		}

		input {
			vertical-align: text-bottom;
		}

		.notice {
			color: #c33;
		}
		</style>

	<div id="profile_wrapper">
		<div id="profile_left">
			<lift:Profile.tblofcontent>
				<div id="tblofcontent"></div>
				</lift:tbl_of_content>

				<lift:profile.toc_update>
					<tblofcontent:toc_update_listener></tblofcontent:toc_update_listener>
					<tblofcontent:is_toc_editable></tblofcontent:is_toc_editable>
				</lift:profile.toc_update>
		</div>
		<div id="profile_right">
			<lift:profile.picktemplate>
				<myprofile> <lift:comet type="ProfilePostActor"
					name="ProfilePostActor" eager_eval="true">
					<div id="profile_posts">
						<lift:embed what="/templates-hidden/Post">
						</lift:embed>
					</div>
				</lift:comet> </myprofile>
				<otherprofile> <lift:profile.posts eager_eval="true">
					<div id="profile_posts">
						<lift:embed what="/templates-hidden/Post">
						</lift:embed>
					</div>
				</lift:profile.posts> </otherprofile>
			</lift:profile.picktemplate>
		</div>
	</div>