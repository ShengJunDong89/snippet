<!DOCTYPE html>
<html>
<head>
<title>Special</title>
</head>
<body class="lift:content_id=main">
	<div id="main" class="lift:surround?with=default;at=content">
		<script class="lift:head" id="composeJS" src="/js/compose-post.js"
			type="text/javascript"></script>
		<script class="lift:head"
			src="/js/jquery.tools.min.js"></script>
		<!-- Code Mirror Init-->
		<script class="lift:head" src="/js/codeMirror-modes.js"></script>
		<link class="lift:head" rel="stylesheet"
			href="/codemirror/theme/eclipse.css">
		<script class="lift:head" src="/codemirror/lib/codemirror.js"></script>
		<link class="lift:head" rel="stylesheet"
			href="/codemirror/lib/codemirror.css">
		<script class="lift:head" src="/codemirror/mode/clike/clike.js"></script>
		<script class="lift:head" src="/codemirror/lib/util/searchcursor.js"></script>
		<script class="lift:head"
			src="/codemirror/lib/util/match-highlighter.js"></script>
		<script class="lift:head" src="/codemirror/lib/util/loadmode.js"></script>
		<link class="lift:head" rel="stylesheet"
			href="/CSS/Default/codemirror_default.css">
		<!-- Code Mirror Init End-->
		<!-- Aloha Editor Init-->

		<link class="lift:head" rel="stylesheet" href="/aloha/css/aloha.css" type="text/css">
		<script class="lift:head" src="/aloha/lib/require.js"></script>
		<script class="lift:head" type="text/javascript">
			var editorCount = 3;
			if (window.Aloha === undefined || window.Aloha === null) {
				var Aloha = window.Aloha = {};
			}

			Aloha.settings = {
				sidebar : {
					disabled : true
				},
				plugins : {
					block : {
						defaults : {
							'.default-block' : {},
							'.columnBlock' : {
								'aloha-block-type' : 'ColumnBlock'
							},
							'.uneditableColumnBlock' : {
								'aloha-block-type' : 'UneditableColumnBlock'
							},
							'.product-teaser' : {
								'aloha-block-type' : 'ProductTeaserBlock'
							},
							'.company' : {
								'aloha-block-type' : 'CompanyBlock'
							},
							'.imageBlock' : {
								'aloha-block-type' : 'ImageBlock'
							},
							'.editableImageBlock' : {
								'aloha-block-type' : 'EditableImageBlock'
							},
							'.news-block' : {
								'aloha-block-type' : 'NewsBlock'
							},
							'.sortable-news-block' : {
								'aloha-block-type' : 'SortableNewsBlock'
							},
							'.editable-product-teaser' : {
								'aloha-block-type' : 'EditableProductTeaserBlock'
							}
						}
					}
				}
			}
		</script>
		<script class="lift:head" src="/aloha/lib/aloha-full.js"
			data-aloha-plugins="common/ui,
								common/format,
		                        common/table,
		                        common/list,
		                        common/link,
		                        common/highlighteditables,
		                        common/block,
		                        common/undo,
		                        common/image,
		                        common/contenthandler,
		                        common/paste,
		                        common/commands,
		                        common/abbr,
		                        common/align,
		                        common/horizontalruler,
		                        extra/htmlsource">
			
		</script>
		<script type="text/javascript">
			window.codeEditors = new Object();
	
			Aloha.ready(function() {

				// Make #content editable once Aloha is loaded and ready.
				Aloha.jQuery('.WYSIWYG-fields').aloha();

			});
		
		</script>
		<script class="lift:head">
			$(function() {

				$("#editor-sort").sortable({
					handle : '.handle',
					cancel : 'h2',
					start : function(e, ui) {
						ui.placeholder.height(ui.item.height());
					}
				});

			});
			
		</script>
		<!-- Aloha Editor Init End-->

		<div id="compose_toolbar" class="fixed_position">
			<select id="newModeSelect"></select>
			<button id="btnAddCode"></button>
			<span class="separator">|</span>
			<button id="btnAddHTML"></button>
			<button id="btnDel"></button>
			<span class="separator">|</span>		
			<button id="publish" onclick="$('#next').click();"></button>
		</div>
		<hr>
		
		<div id="composer-area" class="sortable">
				<!-- Form for the whole post -->
			<form action="#">
				<div class="lift:post_form" id="editor_form_wrapper">
					<br>
					<h2>
						<input type="text" id="post_title" required="required"
							class="field-content title-field" name="title"
							placeholder="Post Title" value=""></input>
					</h2>
					<br> <br>
					<div id="editor-sort">

					</div>
					<div>
						<button hidden="true" id="next" value="Submit" type="button" class="btn">
							<Lift:Loc>Finish</Lift:Loc>
						</button>
					</div>
				</div>
			</form>
			<div class="lift:post_form.sendToServer">
				<script id="sendToServer"></script>
				<script id="initDynamic"></script>
			</div>
		</div>
		<div id="content">The main content will get bound here</div>
	</div>
</body>
</html>
